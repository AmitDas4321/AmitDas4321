<svg width="498" height="498" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 498 498">
  <!-- Dark GitHub-style background -->
  <rect x="0" y="0" width="498" height="498" fill="#0d1117" />
  
  <!-- Terminal-like border -->
  <rect x="20" y="20" width="458" height="458" rx="8" fill="#161b22" stroke="#30363d" stroke-width="2" />
  
  <!-- Title bar -->
  <rect x="20" y="20" width="458" height="30" fill="#21262d" />
  <!-- Title bar circles -->
  <circle cx="35" cy="35" r="6" fill="#f85149" />
  <circle cx="55" cy="35" r="6" fill="#fbbc06" />
  <circle cx="75" cy="35" r="6" fill="#34d058" />

  <!-- Container for typed code with a glowing effect -->
  <text id="codeText" text-anchor="middle" font-family="monospace" font-size="16" fill="#c9d1d9" style="filter: drop-shadow(0px 0px 5px #c9d1d9);"></text>
  
  <!-- Block-style blinking cursor -->
  <rect id="cursor" width="10" height="16" fill="#c9d1d9" style="filter: drop-shadow(0px 0px 5px #c9d1d9);"></rect>

  <script>
    (function() {
      // Code lines for typing
      const codeLines = [
        "(function",
        "repeat() {",
        "  eat();",
        "  sleep();",
        "  code();",
        "  repeat();",
        "})();"
      ];

      // Constants and state variables
      const svgWidth = 498;
      const svgHeight = 498;
      const charWidth = 8; // Approximate character width
      const lineHeight = 22; // Vertical spacing between lines
      const textStartX = svgWidth / 2; // Center horizontally
      const textStartY = 80; // Center vertically with offset
      const textElement = document.getElementById("codeText");
      const cursor = document.getElementById("cursor");
      let lineIndex = 0;
      let charIndex = 0;
      let currentLine = '';
      let cursorVisible = true;

      // Start typing effect
      function type() {
        if (lineIndex < codeLines.length) {
          if (charIndex < codeLines[lineIndex].length) {
            currentLine += codeLines[lineIndex][charIndex];
            updateText();
            charIndex++;
          } else {
            // Move to the next line
            lineIndex++;
            charIndex = 0;
            currentLine = '';
            setTimeout(type, 700); // Pause before typing the next line
            return;
          }
        } else {
          // Restart animation with a delay
          setTimeout(() => {
            resetAnimation();
            type();
          }, 2000);
          return;
        }
        // Random typing delay for a more natural effect
        setTimeout(type, Math.random() * 100 + 50);
      }

      // Update the text and cursor position
      function updateText() {
        textElement.innerHTML = '';
        for (let i = 0; i <= lineIndex; i++) {
          const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
          tspan.setAttribute("x", textStartX);
          tspan.setAttribute("dy", i === 0 ? textStartY : lineHeight);
          tspan.textContent = i === lineIndex ? currentLine : codeLines[i];
          textElement.appendChild(tspan);
        }
        // Update cursor position
        const cursorX = textStartX + currentLine.length * charWidth - 5;
        const cursorY = textStartY + lineIndex * lineHeight - 16;
        cursor.setAttribute("x", cursorX);
        cursor.setAttribute("y", cursorY);
      }

      // Reset animation
      function resetAnimation() {
        textElement.innerHTML = '';
        currentLine = '';
        lineIndex = 0;
        charIndex = 0;
      }

      // Blinking cursor animation
      function blinkCursor() {
        cursorVisible = !cursorVisible;
        cursor.style.opacity = cursorVisible ? "1" : "0";
        setTimeout(blinkCursor, 500);
      }

      // Initialize animations
      blinkCursor();
      type();
    })();
  </script>
</svg>
